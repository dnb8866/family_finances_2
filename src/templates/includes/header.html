<!-- Header -->
<nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container-fluid">
        
        {% if user.is_authenticated %}
            <button class="btn btn-light me-2" id="menuButton">☰ Меню</button>
            <a class="navbar-brand text-white" href="{% url 'transactions:home' %}">{{ title }}</a>
            <!-- Кнопка пользователя (скрыта по умолчанию) -->
            <div class="d-flex" id="userButton" style="display: none;">
                <button class="btn btn-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="userDropdown">
                    <span id="username">{{ user }}</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="{% url 'transactions:home' %}">Профиль</a></li>
                    <li>
                        <form method="post" action="{% url 'logout' %}" style="display: inline;">
                            {% csrf_token %}
                            <button type="submit" class="dropdown-item">Выйти</button>
                        </form>
                    </li>
                </ul>
            </div>
        {% else %}
            <a class="navbar-brand text-white" href="#">{{ title }}</a>
            <div class="d-flex" id="authButtons">
                <!-- Кнопки входа и регистрации -->
                <button class="btn btn-light me-2" data-bs-toggle="modal" data-bs-target="#loginModal">Войти</button>
                <button class="btn btn-light me-2" data-bs-toggle="modal" data-bs-target="#registrationModal">Регистрация</button>
            </div>
        {% endif %}
    </div>
</nav>
